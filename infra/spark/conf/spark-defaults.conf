# SQL 확장 문법을 활성화: ALTER TABLE, REWRITE DATA USING BIN_PACK, MERGE INTO, CALL
spark.sql.extensions=org.apache.iceberg.spark.extensions.IcebergSparkSessionExtensions

# Spark에서 Iceberg REST Catalog 연동
spark.sql.catalog.my_catalog=org.apache.iceberg.spark.SparkCatalog
spark.sql.catalog.my_catalog.catalog-impl=org.apache.iceberg.rest.RESTCatalog
spark.sql.catalog.my_catalog.uri=http://rest-catalog:8181
spark.sql.catalog.my_catalog.warehouse=s3a://warehouse

# S3A (MinIO)
spark.hadoop.fs.s3a.endpoint=http://minio:9000
spark.hadoop.fs.s3a.access.key=minioadmin
spark.hadoop.fs.s3a.secret.key=minioadmin
spark.hadoop.fs.s3a.path.style.access=true
spark.hadoop.fs.s3a.connection.ssl.enabled=false

# s3:// 스킴을 쓸 때 S3AFileSystem으로 매핑
spark.hadoop.fs.s3.impl=org.apache.hadoop.fs.s3a.S3AFileSystem