# Helm Chart의 설정 값들을 정의하는 파일
# Helm: 쿠버네티스 애플리케이션을 패키지화하고 배포를 쉽게 해주는 도구

# MinIO 실행 모드 설정
mode: standalone  # standalone(단일), distributed(분산) 중 선택

existingSecret: minio-secret

# MinIO 관리자 계정 정보
# rootUser: minioadmin      # 관리자 사용자명
# rootPassword: minioadmin123  # 관리자 비밀번호

# 데이터 저장소 설정
persistence:
  enabled: true             # 영구 저장소 사용 여부
  existingClaim: minio-pvc  # 위에서 만든 PVC 사용

# MinIO API 서비스 설정 (데이터 업로드/다운로드용)
service:
  type: NodePort    # 외부에서 직접 접근 가능한 서비스 타입
  port: 9000        # MinIO 서비스가 사용하는 내부 포트
  nodePort: 30900   # 외부에서 접근할 때 사용하는 포트 (http://localhost:30900)

# MinIO 웹 콘솔 서비스 설정 (웹 UI용)
consoleService:
  type: NodePort    # 웹 브라우저에서 접근하기 위해 NodePort 사용
  port: 9001        # MinIO 콘솔의 내부 포트
  nodePort: 30901   # 외부 접근 포트 (http://localhost:30901에서 웹 UI 접근)

# 리소스 제한 설정 (CPU, 메모리 사용량 제한)
resources:
  requests:  # 최소 보장 리소스
    memory: 512Mi  # 512MB 메모리 최소 보장
    cpu: 250m      # 0.25 CPU 코어 최소 보장 (1000m = 1 CPU 코어)
  limits:    # 최대 사용 가능 리소스
    memory: 1Gi    # 최대 1GB 메모리 사용
    cpu: 500m      # 최대 0.5 CPU 코어 사용

# MinIO 시작시 자동으로 생성할 버킷(폴더) 목록
buckets:
  - name: olist-data    # 원본 데이터 저장용 버킷
    policy: none       # 접근 정책 (none: 비공개, public: 공개)
    purge: false       # 삭제 시 버킷 내용도 함께 삭제할지 여부
  - name: spark-logs   # Spark 로그 저장용 버킷
    policy: none
    purge: false
---
